# Multi-Agent Ideation and Debate System

A collaborative AI system where multiple AI agents with distinct personalities and expertise debate problems, identify common ground, and produce synthesized solutions that overcome the biases and limitations inherent in single-model approaches to ideation.

## Table of Contents

- [Overview](#overview)
- [Features](#features)
- [System Components](#system-components)
- [Setup Instructions](#setup-instructions)
- [Usage Guide](#usage-guide)
- [Agent Design](#agent-design)
- [Debate Coordination Methodology](#debate-coordination-methodology)
- [Knowledge Integration](#knowledge-integration)
- [Report Generation](#report-generation)
- [Sample Problem Statements](#sample-problem-statements)
- [File Structure](#file-structure)
- [Limitations and Future Improvements](#limitations-and-future-improvements)

## Disclaimers

### UI Functionality
**Important Notice**: The graphical user interface (UI) components of this system are still under development and not fully functional. We are actively working to improve the UI experience and resolve any issues. For now, we recommend using the command-line interface for the most reliable experience.

### Custom Agent Ethics
**Ethics Disclaimer**: Users who create custom agents are solely responsible for ensuring those agents adhere to ethical AI guidelines. The system does not enforce ethical constraints on user-defined agent personalities or expertise domains. We strongly encourage users to:
- Avoid creating agents that promote harmful, illegal, or unethical content
- Consider the potential impacts of the perspectives being introduced
- Use this tool responsibly for constructive problem-solving

The developers of this system are not responsible for any misuse of the custom agent capabilities or for any outputs generated by user-defined agents that may violate ethical AI guidelines or applicable laws.

## Overview

The Multi-Agent Ideation and Debate System facilitates structured debates between AI agents with diverse expertise, thinking styles, and priorities. These agents engage in a structured debate process where they:

1. Present initial perspectives on a problem statement
2. Critique each other's ideas
3. Respond to critiques and refine their thinking
4. Identify common ground and integration opportunities
5. Present evolved final positions
6. Synthesize diverse viewpoints into a comprehensive solution

The system also incorporates knowledge integration capabilities, allowing agents to reference external information from local documents, web searches, or AI-generated knowledge when needed.

## Features

- **Diverse Agent Personalities**: Built-in and customizable agent types with different expertise domains, thinking styles, and priorities
- **Structured Debate Format**: A semi-agentic approach that balances reliability with agent autonomy
- **Knowledge Integration**: Ability to incorporate external knowledge from documents, web searches, and AI generation
- **Moderated Discussions**: An AI moderator that guides the debate and ensures productive exchange
- **Idea Evolution Tracking**: Visualizations and analysis of how concepts evolve through debate
- **Comprehensive Reporting**: Detailed final reports and visualizations of the debate outcomes

## System Components

The system consists of the following core components:

1. **Base Agent Framework**: Provides the foundation for specialized debate agents
2. **Specialized Agent Types**: Business, Creative, Critical, and Technical agents with distinct perspectives
3. **Moderator Agent**: Guides the debate and ensures productive exchange
4. **Knowledge Integration System**: Retrieves external information to support agent arguments
5. **Debate Coordination System**: Manages the structured debate flow
6. **Visualization Tools**: Generate representations of idea evolution
7. **Report Generation System**: Creates comprehensive final reports

## Setup Instructions

### Prerequisites

- Python 3.8+
- OpenAI API key
- (Optional) Google API key and Custom Search Engine ID for web searches

### Installation

1. Clone the repository:
   ```
   git clone https://github.com/yourusername/multi-agent-debate.git
   cd multi-agent-debate
   ```

2. Install required packages:
   ```
   pip install -r requirements.txt
   ```

3. Create a `.env` file in the project root with your API keys:
   ```
   OPENAI_API_KEY=your_openai_api_key
   GOOGLE_API_KEY=your_google_api_key  # Optional for web search
   GOOGLE_CX=your_google_cse_id        # Optional for web search
   ```

4. (Optional) Create a `documents` directory in the project root and add relevant PDF, DOCX, or TXT files for knowledge integration:
   ```
   mkdir documents
   ```

## Usage Guide

The system can be run through the command line with various configuration options:

### Basic Usage

Run a debate with default settings:

```
python main.py --problem "How can we make AI-generated content more reliable for professional use?"
```
or replace with a different topic
### Advanced Usage

Customize your debate with additional options:

```
python main.py --problem "How to reduce carbon emissions in urban areas?" --agents business,creative,critical,technical --output results_carbon --use_knowledge --document_dir my_documents
```

### Interactive Mode

Create custom agents interactively:

```
python main.py --interactive
```

This will allow you to:
- Specify the debate topic
- Create custom agents with unique attributes
- Mix built-in and custom agents
- Configure knowledge integration options

#### Example Interactive Session: Work-Life Balance Debate

Here's an example of setting up a debate on remote work-life balance using interactive mode:

```bash
# Start an interactive debate with knowledge integration and a specific output directory
python main.py --interactive --output remote_work_balance_debate --use_knowledge
```

During the interactive setup:

1. When prompted for the debate topic, enter:
   ```
   What strategies can improve work-life balance in remote work environments?
   ```

2. Add the Business Agent:
   ```
   Create (b)uilt-in or (c)ustom agent? b
   Which built-in agent? business
   ```

3. Add the Creative Agent:
   ```
   Add another agent? y
   Create (b)uilt-in or (c)ustom agent? b
   Which built-in agent? creative
   ```

4. Add a custom Wellbeing Expert:
   ```
   Add another agent? y
   Create (b)uilt-in or (c)ustom agent? c
   
   Agent name: Wellbeing_Expert
   Professional role: Workplace Psychologist
   Areas of expertise: workplace psychology, burnout prevention, digital wellbeing, organizational health
   Thinking style: holistic and evidence-based
   Priorities: mental health, sustainable performance, boundary management, human connection
   Personality traits: empathetic, pragmatic, research-oriented, balanced
   ```

5. Finish agent setup:
   ```
   Add another agent? n
   ```

The system will then run through the debate phases and generate comprehensive output in the `remote_work_balance_debate` directory.

### Command Line Arguments

- `--problem`: The problem statement or topic for debate (required)
- `--agents`: Comma-separated list of agents to include (default: "business,creative")
- `--output`: Custom output directory name (default: timestamp-based)
- `--model`: LLM model to use (default: "gpt-4o")
- `--debug`: Enable extra debug output
- `--use_knowledge`: Enable knowledge integration from documents and web
- `--document_dir`: Directory containing knowledge base documents (default: "documents")
- `--no_web_search`: Disable web search fallback
- `--no_ai_generation`: Disable AI generation fallback
- `--interactive`: Create custom agents interactively

## Agent Design

The system employs a hierarchical agent design:

### Base Agent

The `DebateAgent` class in `base_agent.py` provides the foundation for all debate agents with:
- Core attributes: name, role, expertise, thinking style, priorities, personality traits
- System message construction for defining agent identity
- Knowledge integration capabilities
- Autogen framework integration

### Specialized Agents

Four specialized agent types are implemented, each with distinct perspectives:

#### Business Agent (Morgan_Business)

- **Role**: Business Strategist
- **Expertise**: Market analysis, business modeling, strategic planning, ROI optimization, competitive landscape assessment
- **Thinking Style**: Strategic and pragmatic
- **Priorities**: Market viability, profitability, competitive advantage, scalability, long-term sustainability
- **Personality Traits**: Pragmatic, results-oriented, big-picture thinker, decisive, data-driven
- **Implementation**: `business_agent.py`

#### Creative Agent (Nova_Creative)

- **Role**: Innovation Specialist
- **Expertise**: Design thinking, creative problem-solving, user experience, trend forecasting, human-centered design
- **Thinking Style**: Divergent and explorative
- **Priorities**: Innovation, user-centricity, adaptability, emotional impact, originality
- **Personality Traits**: Imaginative, curious, empathetic, open-minded, optimistic
- **Implementation**: `creative_agent.py`

#### Critical Agent (Sage_Critical)

- **Role**: Critical Analyst
- **Expertise**: Risk assessment, logical analysis, ethical evaluation, systems thinking, cognitive bias identification
- **Thinking Style**: Analytical and critical
- **Priorities**: Logical consistency, risk mitigation, ethical considerations, long-term viability, unintended consequences
- **Personality Traits**: Analytical, thorough, skeptical, principled, detail-oriented
- **Implementation**: `critical_agent.py`

#### Technical Agent (DrAda_Technical)

- **Role**: Technical Expert
- **Expertise**: Software engineering, system architecture, data science, AI/ML, technical implementation
- **Thinking Style**: Analytical and systematic
- **Priorities**: Technical feasibility, efficiency, scalability, robustness, maintainability
- **Personality Traits**: Logical, detail-oriented, systematic, pragmatic, solution-oriented
- **Implementation**: `technical_agent.py`

### Personality Implementation

Agents maintain their distinct personalities through:

1. **System Messages**: Each agent has a detailed system message that defines their role, expertise, thinking style, priorities, and personality traits
2. **Autonomous Decision-Making**: Agents select which perspectives to critique and how to respond to critiques
3. **Knowledge Integration Style**: Each agent formulates knowledge queries based on their expertise
4. **Consistent Response Patterns**: Agents maintain consistent writing styles and terminology throughout the debate

### Custom Agents

The system supports creating custom agents with user-defined attributes through the interactive mode, allowing for:
- Custom names and roles
- Specialized expertise domains
- Unique thinking styles
- Custom priorities and personality traits

## Debate Coordination Methodology

The debate is coordinated through a "semi-agentic" approach that balances reliability with agent autonomy. This is implemented in `debate.py`.

### Debate Phases

The debate progresses through structured phases:

1. **Initial Perspectives** (Phase 1):
   - Moderator introduces the problem
   - Each agent generates an initial perspective based on their expertise
   - Agents incorporate external knowledge through reference requests
   - Moderator summarizes key points and transitions to the next phase

2. **Critiques** (Phase 2):
   - Agents autonomously select which perspectives to critique
   - Critiques are based on the agent's expertise and thinking style
   - Knowledge integration reinforces critique quality
   - Moderator summarizes critiques and identifies patterns

3. **Responses to Critiques** (Phase 3):
   - Agents respond to critiques directed at them
   - Responses acknowledge valid points and defend/refine positions
   - Agents not directly critiqued provide reflections on observed critiques
   - Moderator summarizes how positions have evolved

4. **Common Ground** (Phase 4):
   - Agents identify areas of consensus and integration opportunities
   - Focus on how different perspectives complement each other
   - Knowledge integration helps identify integration possibilities
   - Moderator synthesizes the common ground identified

5. **Final Positions** (Phase 5):
   - Agents present evolved thinking based on the entire debate
   - Final positions include key recommendations
   - Agents reflect on how their thinking has evolved
   - Moderator concludes the debate by summarizing the journey

### Moderation

The `ModeratorAgent` class:
- Introduces each phase of the debate
- Summarizes key points and transitions between phases
- Ensures productive exchange by highlighting areas of agreement and disagreement
- Provides structure and pacing to the debate
- Generates the final synthesis

## Knowledge Integration

The system integrates external knowledge through a sophisticated knowledge integration system implemented in `knowledge_integration.py`.

### Knowledge Sources

The system can retrieve information from three sources:

1. **Local Documents**: PDFs, DOCXs, and TXT files in a specified directory
2. **Web Search**: Using Google Custom Search API (optional)
3. **AI-Generated Knowledge**: As a fallback when other sources don't yield results

### Integration Process

1. Agents can request external information using `[REF: query]` syntax
2. The system processes these requests by:
   - Searching local documents first
   - Falling back to web search if configured
   - Generating AI knowledge as a last resort
3. Retrieved information is incorporated into agent responses
4. All references are tracked for documentation

### Configuration Options

Knowledge integration can be customized with:
- Document directory specification
- Enabling/disabling web search
- Enabling/disabling AI generation fallback

## Report Generation

The system generates comprehensive outputs at the end of each debate.

### Report Types

1. **Debate Summary**: A structured report that includes:
   - Executive Summary
   - Key Perspectives from each agent
   - Evolution of Ideas through the debate
   - Areas of Agreement and Disagreement
   - Integrated Solution
   - Implementation Considerations
   - Recommendations for Further Research

2. **Idea Evolution Visualization**: A detailed analysis of how ideas evolved during the debate:
   - Each agent's journey through the debate phases
   - Key terms and concepts tracked across phases
   - Sentiment analysis of how emotional tone shifted
   - Cross-cutting themes that emerged across agents

3. **Visual Representations**:
   - Mermaid diagrams showing debate flow
   - Influence network analysis
   - Sentiment evolution charts
   - Knowledge reference tracking

### Output Files

All debate results are saved to an output directory (timestamp-based or custom-named):
- `debate_summary.md`: Comprehensive final report
- `idea_evolution.md`: Visualization of how ideas evolved
- `debate_flow.md`: Mermaid diagram of the debate structure
- `knowledge_references.md`: Documentation of external sources used
- `debate_data.json`: Complete debate data in JSON format

## Sample Problem Statements

The system can handle a wide range of problem statements across domains:

1. "How can we make AI-generated content more reliable for professional use?"
2. "How to reduce carbon emissions in urban areas?"
3. "How can AI improve healthcare access in rural areas?"
4. "How to make online education more engaging?"
5. "What strategies can improve work-life balance in remote work environments?"

## File Structure

### Core Files

- `main.py`: Main entry point with command-line argument parsing and agent initialization
- `base_agent.py`: Base agent class that all specialized agents inherit from
- `business_agent.py`: Business strategy-focused agent implementation
- `creative_agent.py`: Innovation and design-focused agent implementation
- `critical_agent.py`: Risk assessment and ethical analysis-focused agent implementation
- `technical_agent.py`: Technical implementation-focused agent implementation
- `debate.py`: Contains the core debate coordination logic and report generation
- `knowledge_integration.py`: Handles external knowledge retrieval and integration
- `requirements.txt`: Lists all required dependencies

### Detailed File Descriptions

#### main.py

The main entry point for the system that:
- Parses command-line arguments
- Sets up logging
- Initializes agents based on user selection
- Configures knowledge integration
- Runs the debate process
- Handles interactive agent creation if requested
- Reports results and output locations

#### base_agent.py

Provides the foundation for all debate agents:
- Defines the `DebateAgent` class that inherits from `autogen.AssistantAgent`
- Manages agent system messages and properties
- Handles argument generation with knowledge integration
- Provides methods for updating agent behaviors

#### business_agent.py

Implements the Business Agent:
- Specializes the base agent for business perspectives
- Defines business-specific expertise, thinking style, priorities, and traits
- Implements business-focused argument generation
- Focuses on market viability and business impact

#### creative_agent.py

Implements the Creative Agent:
- Specializes the base agent for creative and innovative perspectives
- Defines creativity-specific expertise, thinking style, priorities, and traits
- Implements creativity-focused argument generation
- Focuses on user experience and novel approaches

#### critical_agent.py

Implements the Critical Agent:
- Specializes the base agent for critical analysis perspectives
- Defines analysis-specific expertise, thinking style, priorities, and traits
- Implements critique-focused argument generation
- Focuses on risk assessment and ethical considerations

#### technical_agent.py

Implements the Technical Agent:
- Specializes the base agent for technical implementation perspectives
- Defines technical expertise, thinking style, priorities, and traits
- Implements technology-focused argument generation
- Focuses on implementation feasibility and efficiency

#### debate.py

Contains the core debate coordination logic:
- Implements the `run_semi_agentic_debate` function that orchestrates the entire debate
- Defines the `ModeratorAgent` class that guides the discussion
- Manages all debate phases (initial perspectives, critiques, responses, common ground, final positions)
- Generates reports and visualizations
- Handles knowledge integration during the debate
- Provides utilities for sentiment analysis and keyword extraction

#### knowledge_integration.py

Manages all aspects of external knowledge integration:
- Implements the `KnowledgeIntegration` class for retrieving information
- Provides document processing functions for PDF, DOCX, and TXT files
- Handles web search via Google Custom Search API
- Generates AI knowledge as a fallback
- Processes reference requests from agents
- Tracks all knowledge references used in the debate

#### requirements.txt

Lists all required Python packages:
- openai: For API access to language models
- autogen: For agent framework
- python-dotenv: For environment variable management
- Visualization dependencies (matplotlib, networkx, etc.)
- Document processing (PyPDF2, python-docx)
- Web utilities (requests, bs4)

## Limitations and Future Improvements

### Current Limitations

1. **Computational Efficiency**: Running debates with all four agents and knowledge integration can be resource-intensive and may take considerable time to complete.

2. **Sequential Processing**: The debate flows strictly through predefined phases rather than allowing for dynamic interactions and parallel discussions.

3. **Moderate Complexity**: Advanced multi-faceted problems may not be explored with sufficient depth given token constraints.

4. **Visualization Limitations**: The visualizations are primarily text-based or simple diagrams rather than interactive graphics.

### Future Improvements

1. **Enhanced Agent Autonomy**: Allow agents to dynamically form coalitions or change positions more dramatically based on debate developments.

2. **Improved Knowledge Integration**:
   - Implement semantic search for documents
   - Add RAG (Retrieval Augmented Generation) capabilities
   - Enable domain-specific knowledge sources

3. **Interactive Debates**: Allow users to intervene during debates to guide discussions or ask follow-up questions.

4. **Multi-modal Output**: Incorporate interactive visualizations and alternative presentation formats.

5. **Enhanced Memory**: Implement long-term memory for agents to reference past debates on similar topics.

6. **Dynamic Debate Structure**: Allow branching and parallel debate paths based on emerging topics.

7. **Feedback Integration**: Incorporate user feedback to improve future debates.

8. **Performance Optimization**: Reduce API calls and improve parallelization for faster debates.


## Contributing

Contributions to this project are welcome and appreciated! This is an active area of development with many exciting possibilities for enhancement.

### How to Contribute

If you're interested in contributing, here are some ways to get involved:

- **Bug fixes and issue reporting**: Help identify and fix bugs or unexpected behaviors
- **Documentation improvements**: Enhance explanations, add examples, or improve clarity
- **New agent types**: Develop specialized agents for different domains or perspectives
- **Knowledge integration enhancements**: Improve document processing or search capabilities
- **Visualization improvements**: Create better ways to visualize debate progress and outcomes
- **Performance optimizations**: Help reduce API costs and improve system efficiency

### Contribution Process

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

Please feel free to reach out with questions or ideas for improvements. This project thrives on collaborative development and diverse perspectives.

